{% extends 'shop/base.html' %}
{% block title %}Profile | E-Shop{% endblock %}
{% block content %}
<h2 class="mb-3">Profile</h2>
<div class="row g-4">
  <div class="col-md-4">
    <div class="card p-3">
      <h5 class="border-bottom pb-2 mb-3">Account</h5>
      <p class="mb-1 fw-semibold">{{ user.username }}</p>
      <p class="small mb-2 text-muted">{{ user.email }}</p>
      <p class="small">Joined: {{ user.date_joined|date:'M d, Y' }}</p>
      <a href="{% url 'impact_dashboard' %}" class="btn btn-sm btn-primary mt-2">Impact Dashboard</a>
    </div>
  </div>
  <div class="col-md-8">
    <div class="card p-3">
      <h5 class="border-bottom pb-2 mb-3">Orders</h5>
      <table class="table table-sm">
        <thead><tr><th>ID</th><th>Date</th><th>Status</th><th>Total</th></tr></thead>
        <tbody>
          {% for order in orders %}
          <tr><td>{{ order.id }}</td><td>{{ order.created|date:'Y-m-d' }}</td><td>{{ order.status }}</td><td>${{ order.get_total_cost }}</td></tr>
          {% empty %}<tr><td colspan="4" class="text-muted">No orders yet.</td></tr>{% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
